CC3S2/Laboratorio11$ make dev SERVICE=order-service
SERVICE=order-service
IMAGE=order-service:6c29a68
K8S_IMAGE=order-service:6c29a68
TAG=6c29a68
K8S_VERSION=v1.34.0
[i] Asegurando minikube (k8s=v1.34.0)
minikube status >/dev/null 2>&1 || \
minikube start --driver=docker --kubernetes-version=v1.34.0 --cpus=4 --memory=2000 
[i] usando daemon de minikube para que el cluster vea la imagen
[+] Building 15.7s (12/12) FINISHED                                 docker:default
 => [internal] load build definition from Dockerfile.python-template          0.1s
 => => transferring dockerfile: 886B                                          0.0s 
 => [internal] load metadata for docker.io/library/python:3.12-slim           2.1s 
 => [internal] load .dockerignore                                             0.0s
 => => transferring context: 2B                                               0.0s 
 => [1/7] FROM docker.io/library/python:3.12-slim@sha256:a75662dfec8d90bd716  0.0s 
 => => resolve docker.io/library/python:3.12-slim@sha256:a75662dfec8d90bd716  0.0s 
 => [internal] load build context                                             0.1s 
 => => transferring context: 127.50kB                                         0.1s 
 => CACHED [2/7] RUN set -eux;     rm -f /etc/apt/apt.conf.d/docker-clean ||  0.0s
 => CACHED [3/7] WORKDIR /app                                                 0.0s 
 => CACHED [4/7] COPY requirements.txt /app/requirements.txt                  0.0s 
 => CACHED [5/7] RUN pip install --no-cache-dir -r /app/requirements.txt ||   0.0s 
 => [6/7] COPY . /app                                                         5.6s 
 => [7/7] RUN useradd -m app && chown -R app:app /app                         6.5s
 => exporting to image                                                        1.1s 
 => => exporting layers                                                       1.0s 
 => => writing image sha256:a663191a936b6ea39bf57d63f5e412b15418589c8d4700eb  0.0s 
 => => naming to docker.io/library/order-service:6c29a68                      0.0s 
[OK] build in-minikube -> order-service:6c29a68
Manifest -> artifacts/order-service.yaml
deployment.apps/order-service configured
service/order-service unchanged
kubectl rollout status deploy/order-service -n default --timeout=180s
deployment "order-service" successfully rolled out
[i] smoke: order-service/default -> http://127.0.0.1:8001
curl: (22) The requested URL returned error: 404
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Directory listing for /</title>
</head>
<body>
<h1>Directory listing for /</h1>
<hr>
<ul>
<li><a href=".venv_labo11/">.venv_labo11/</a></li>
<li><a href="A1.md">A1.md</a></li>
<li><a href="artifacts/">artifacts/</a></li>
<li><a href="docker/">docker/</a></li>
<li><a href="docker-compose.order.test.yml">docker-compose.order.test.yml</a></li> 
<li><a href="docker-compose.user.test.yml">docker-compose.user.test.yml</a></li>   
<li><a href="healthcheck.py">healthcheck.py</a></li>
<li><a href="Instrucciones.md">Instrucciones.md</a></li>
<li><a href="k8s/">k8s/</a></li>
<li><a href="Makefile">Makefile</a></li>
<li><a href="minikube-linux-amd64">minikube-linux-amd64</a></li>
<li><a href="requirements.txt">requirements.txt</a></li>
<li><a href="scripts/">scripts/</a></li>
<li><a href="server.py">server.py</a></li>
<li><a href="supply-chain/">supply-chain/</a></li>
</ul>
<hr>
</body>
</html>
[OK] SMOKE order-service -> 200
[DEV] OK -> order-service @ order-service:6c29a68